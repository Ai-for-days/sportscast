---
import BaseLayout from '../components/layout/BaseLayout.astro';
import WeatherMap from '../components/map/WeatherMap';
import { getMapMeta } from '../lib/seo-meta';
import { getBreadcrumbSchema } from '../lib/schema-markup';

export const prerender = false;

const meta = getMapMeta();
const jsonLd = getBreadcrumbSchema([
  { name: 'Home', url: '/' },
  { name: 'Weather Map', url: '/map' },
]);
---

<BaseLayout title={meta.title} description={meta.description} jsonLd={jsonLd}>
  <div class="flex h-[calc(100vh-64px)] flex-col">
    <div class="border-b border-border bg-surface px-4 py-3 dark:border-border-dark dark:bg-surface-dark-alt">
      <h1 class="text-lg font-semibold text-text dark:text-text-dark">Interactive Weather Map</h1>
      <p class="text-sm text-text-muted dark:text-text-dark-muted">
        Click anywhere for a forecast. Toggle overlays with the controls.
      </p>
    </div>
    <div class="flex-1">
      <WeatherMap client:only="react" />
    </div>
  </div>
</BaseLayout>
